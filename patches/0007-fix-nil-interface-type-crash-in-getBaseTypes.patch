From 7cf3b2d467e97607365d4845c6df7a20006dcf23 Mon Sep 17 00:00:00 2001
From: Cameron Clark <cameron.clark@hey.com>
Date: Thu, 11 Dec 2025 21:35:43 +0000
Subject: [PATCH] fix: nil interface type crash in getBaseTypes

---
 internal/checker/checker.go | 6 ++++++
 1 file changed, 6 insertions(+)

diff --git a/internal/checker/checker.go b/internal/checker/checker.go
index 047517630..2c2b3b046 100644
--- a/internal/checker/checker.go
+++ b/internal/checker/checker.go
@@ -11381,6 +11381,9 @@ func (c *Checker) isPropertyDeclaredInAncestorClass(prop *ast.Symbol) bool {
 			return false
 		}
 		classType = baseTypes[0]
+		if classType.symbol == nil || classType.symbol.Flags&(ast.SymbolFlagsClass|ast.SymbolFlagsInterface) == 0 {
+			return false
+		}
 		superProperty := c.getPropertyOfType(classType, prop.Name)
 		if superProperty != nil && superProperty.ValueDeclaration != nil {
 			return true
@@ -18562,6 +18565,9 @@ func findIndexInfo(indexInfos []*IndexInfo, keyType *Type) *IndexInfo {
 
 func (c *Checker) getBaseTypes(t *Type) []*Type {
 	data := t.AsInterfaceType()
+	if data == nil {
+		return nil
+	}
 	if !data.baseTypesResolved {
 		if !c.pushTypeResolution(t, TypeSystemPropertyNameResolvedBaseTypes) {
 			return data.resolvedBaseTypes
-- 
2.50.1 (Apple Git-155)

